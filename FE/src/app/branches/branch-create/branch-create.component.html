<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card shadow-sm border-0">
        <div
          class="card-header bg-white border-0 d-flex justify-content-between align-items-center"
        >
          <h5 class="mb-0">Thêm chi nhánh mới</h5>
          <button class="btn btn-sm btn-outline-secondary" (click)="backToList()" type="button">
            <i class="bi bi-arrow-left"></i> Quay lại
          </button>
        </div>

        <div class="card-body">
          <form method="post" [formGroup]="addForm" (ngSubmit)="save()">
            <div class="row g-3">
              <!-- Tên chi nhánh -->
              <div class="col-md-6">
                <label class="form-label">Tên chi nhánh <span class="text-danger">*</span></label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="name"
                  placeholder="VD: Chi nhánh Hà Nội"
                />
                <div
                  *ngIf="addForm.get('name')?.invalid && addForm.get('name')?.touched"
                  class="text-danger small"
                >
                  Vui lòng nhập tên chi nhánh
                </div>
              </div>

              <!-- Mã chi nhánh -->
              <div class="col-md-6">
                <label class="form-label">Mã chi nhánh</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="code"
                  placeholder="VD: CN-HN01"
                />
              </div>

              <!-- Phone -->
              <div class="col-md-6">
                <label class="form-label">Số điện thoại <span class="text-danger">*</span></label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="phone"
                  placeholder="VD: 0912345678"
                />
                <div
                  *ngIf="addForm.get('phone')?.invalid && addForm.get('phone')?.touched"
                  class="text-danger small"
                >
                  Vui lòng nhập số điện thoại
                </div>
              </div>

              <!-- Email -->
              <div class="col-md-6">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  formControlName="email"
                  placeholder="VD: hanoi.branch@gmail.com"
                />
              </div>

              <!-- Địa chỉ: tỉnh -->
              <div class="col-md-4">
                <label class="form-label"
                  >Tỉnh / Thành phố <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  formControlName="province"
                  placeholder="VD: Hà Nội"
                />
                <div
                  *ngIf="addForm.get('province')?.invalid && addForm.get('province')?.touched"
                  class="text-danger small"
                >
                  Vui lòng nhập tỉnh/thành phố
                </div>
              </div>

              <!-- huyện -->
              <div class="col-md-4">
                <label class="form-label">Quận / Huyện</label>
                <input type="text" class="form-control" formControlName="district" />
              </div>

              <!-- phường -->
              <div class="col-md-4">
                <label class="form-label">Phường / Xã</label>
                <input type="text" class="form-control" formControlName="ward" />
              </div>

              <!-- địa chỉ chi tiết -->
              <div class="col-12">
                <label class="form-label"
                  >Địa chỉ chi tiết <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  formControlName="address"
                  placeholder="VD: Số 1 Trần Duy Hưng, Cầu Giấy"
                />
                <div
                  *ngIf="addForm.get('address')?.invalid && addForm.get('address')?.touched"
                  class="text-danger small"
                >
                  Vui lòng nhập địa chỉ chi tiết
                </div>
              </div>

              <!-- ghi chú -->
              <div class="col-12">
                <label class="form-label">Ghi chú</label>
                <textarea
                  class="form-control"
                  rows="3"
                  formControlName="note"
                  placeholder="Nội dung ghi chú (nếu có)"
                ></textarea>
              </div>
            </div>

            <!-- nút -->
            <div class="mt-4 d-flex justify-content-end gap-2">
              <button type="button" class="btn btn-outline-secondary" (click)="backToList()">
                Hủy
              </button>

              <button type="submit" class="btn btn-primary" [disabled]="addForm.invalid || loading">
                <span *ngIf="!loading">Lưu chi nhánh</span>

                <span *ngIf="loading">
                  <span class="spinner-border spinner-border-sm me-1"></span>
                  Đang lưu...
                </span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
